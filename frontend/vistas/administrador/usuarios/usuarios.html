<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Usuarios - IES Bajo Aragón</title>
    <script>const BASE = window.location.origin + "/frontend";</script>
    <script>
        const script1 = document.createElement("script");
        script1.src = BASE + "/javascript/includes.js";
        script1.onload = () => {
            const script2 = document.createElement("script");
            script2.src = BASE + "/javascript/menu.js";
            script2.onload = () => {
                generarPagina("admin", "admin");
            };
            document.head.appendChild(script2);
        };
        document.head.appendChild(script1);
    </script>
</head>

<body>
    <div id="header"></div>

    <main class="container mt-5">

        <h2 class="text-center mb-4">Listado de Usuarios</h2>

        <div class="table-responsive">
            <table class="table table-striped table-bordered align-middle text-center tabla-cabecera">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Rol</th>
                        <th>Email</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="usuariosTableBody">
                    <!-- Los usuarios se generarán desde JavaScript -->
                </tbody>
            </table>
        </div>

        <div class="mt-5 container-fluid text-end">
            <a href="../menuadministrador.html" class="volver p-2 px-4 text-dark">
                Volver al menú de administrador
            </a>
        </div>

    </main>

    <!-- MODAL EDITAR USUARIO -->
    <div class="modal fade" id="modalEditar" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">

                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Editar Usuario</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <form id="formEditarUsuario" class="row g-4">
                        <input type="hidden" id="editId">

                        <div class="col-md-6">
                            <label class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="editNombre" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Correo Electrónico</label>
                            <input type="email" class="form-control" id="editEmail" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Rol</label>
                            <select class="form-select" id="editRol" required>
                                <option value="" disabled>Seleccionar Rol</option>
                                <option value="Comun">Comun</option>
                                <option value="Administrador">Administrador</option>
                                <option value="Superadministrador">Superadministrador</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Estado</label>
                            <select class="form-select" id="editEstado" required>
                                <option value="Activo">Activo</option>
                                <option value="Inactivo">Inactivo</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Nueva Contraseña (opcional)</label>
                            <input type="password" class="form-control" id="editPassword" placeholder="Nueva Contraseña">
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Confirmar Contraseña</label>
                            <input type="password" class="form-control" id="editConfirmPassword" placeholder="Confirmar Contraseña">
                        </div>

                        <div class="col-12 d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Guardar cambios</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    
    <footer id="footer"></footer>
</body>
</html>
